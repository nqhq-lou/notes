---
title: regex basics
tags: [regex]
---


for python, see [[code_course/Python/regex]]

### escape char

- `$.*?+{}|()`
- 如果要进行匹配, 则需要进行转义


## meta char

| cat          | char                  |
| ------------ | --------------------- |
| 字符类       | `[] - ^`              |
| 预定义字符类 | `. \d \D \s \S \w \W` |
| 边界匹配符号 | `^ $ \b \B`           |
| 重复限定符   | `{} + * ?`            |
| 分组符       | `()`                  |
| 选择符       | `\|`                  |

### 字符类

```
[xyz]  # 匹配其中任意一个
[^xyz]  # 匹配非括号中的任意一个
[a-zA-Z0-9]  # 匹配范围中的一个
[^m-z]  # 匹配非范围中的一个
```

### 预定义字符类

| char | meaning                        |
| ---- | ------------------------------ |
| `.`  | `[^\n]` 除换行符的任意单个字符 |
| `\d` | `[0-9]`                        |
| `\D` | `[^0-9]`                       |
| `\s` | `[ \t\n\r\f\v]` 单个空白字符   |
| `\S` | `[^ \t\n\r\f\v]`               |
| `\w` | `[a-zA-Z0-9_]`                 |
| `\W` | `[^a-zA-Z0-9_]`                |
| `\b` | 单词边界                       |
| `\B` | 非单词边界                     |

### 边界匹配符号

| char | meaning            |
| ---- | ------------------ |
| `^`  | 开头               |
| `$`  | 结尾               |
| `\b` | 匹配单词头或单词尾 |
| `\B` | 非单词头或单词尾   |
```python
re.findall(r'\b#', '#abc')  # [], 并没有分割单词和非单词
re.findall(r'#\b', '#abc')  # ['#'], 分割单词和非单词
re.findall(r'#\b', '#abc # abc')  # ['#'], 必须紧邻
```


### 重复限定符号

- `p`代表pattern, 用`()`标记出来
| chat      | meaning                       |
| --------- | ----------------------------- |
| `p{n}`    | 重复n次                       |
| `p{n,}`   | 重复至少n次                   |
| `p{n,}?`  | 重复至少n次,但是尽量少重复    |
| `p{n,m}`  | 重复n到m次                    |
| `p{n,m}?` | 重复n到m次, 但是尽量少重复    |
| `p+`      | 重复至少1次, `p{1,}`          |
| `p+?`     | 重复至少1次, 但是尽量少重复   |
| `p*`      | 重复至少0次, `p{0,}`          |
| `p*?`     | 重复0次及以上, 但是尽量少重复 |
| `p?`      | 重复0次或1次, `p{0,1}`        |
| `p??`     | 重复0次或1次, 但是尽量少重复  |

### 选择符

- 匹配多个正则表达式中的一个, 优先级最低, 用`()`限制作用范围
```python
re.findall('red|green|blue', 'bluesky, pink red, green and blue')
# ['blue', 'red', 'green', 'blue']
re.findall('\b(red|green|blue)\b', 'bluesky, pink red, green and blue')
# ['red', 'green', 'blue']
```


